(function(c,d){c.ue=c.ue||{};function b(h,j,i){var g="; expires="+new Date(+new Date+i).toGMTString();d.cookie=h+"="+j+g+"; path=/"}function a(g){if(d.cookie&&d.cookie.split){var l=document.cookie.split(";"),j,m,k=new RegExp("^\\s*"+g+"=");for(var h=0;h<l.length;h++){j=l[h];if(k.test(j)){m=j.split("=");if(m&&m.length==2){return m[1]}}}}return null}function f(g){b(g,"",-1)}var e={set:b,get:a,del:f};c.ue.ch=e})(ue_csm,document);(function(c){var m=c.ue||{},j="csm-sid",h="0123456789",i="0123456789ABCDEFGHIJKLMNOPQRSTUVXYZ";function e(o){var p=/^\d{3}-\d{7}-\d{7}$/;return p.test(o)}function n(o){var p=Math.floor(Math.random()*o.length);return o.charAt(p)}function d(r,q){var o="";for(var p=0;p<q;p++){o=o+n(r)}return o}function g(){return d(i,20)}function k(){var o=d(h,18);return o.substring(0,3)+"-"+o.substring(4,11)+"-"+o.substring(11,18)}function b(){if(c.ue&&c.ue.ch){var o=c.ue.ch.get(j);if(e(o)){return o}}return 0}function l(o){if(!e(o)){return 0}if(c.ue&&c.ue.ch){c.ue.ch.set(j,o,2366769449);return 1}}var f={newRID:g,newSID:k,getSID:b,setSID:l};m.id=c.ue_id?c.ue_id:f.newRID();m.rid=m.id;m.mid=c.ue_mid||"mkt=aiwnacsm";m.furl=c.ue_furl||"fls-na.amazon.com";m.sn=(c.ue_sn)||(window.location?window.location.hostname:"");var a=c.ue_sid||f.getSID();if(!a){a=f.newSID();f.setSID(a)}m.sid=a;m.identifier=f;c.ue=m})(ue_csm);(function(g){var a=g.ue||{},e=["latency","forester","jserrors"],h=0,b=function(){},d={};function f(){var j;if(a.q){for(var k=0;k<a.q.length;k++){j=a.q[k];if(j.n&&d[j.n]&&d[j.n].call){d[j.n].call(this,j.t,j.a)}}}b()}function c(j,i){var k=b;b=function(){k();i()};h++;if(h==e.length){f()}}a.implementations=d;a.register=c;g.ue=a})(ue_csm);(function(e,j){var k=e.ue||{};e.ueinit=(e.ueinit||0)+1;if(!k.id){k.id=e.ue_id?e.ue_id:k.identifier.newRID()}k.url=e.ue_url?e.ue_url:("/uedata/"+k.sid+"/");k.a="";k.b="";k.h={};k.r={ld:0,oe:0,ul:0};k.s=1;k.t={};k.sc={};k.iel=[];k.ielf=[];k.fc_idx={};k.viz=[];k.v="a02";k.ifr=((j.top!==j.self)||(j.frameElement))?1:0;var g=(function(){var m={},l=[];return{tag:function(n,p){if(k.tag.delta>=0){k.tag.delta=-1}var o;if(typeof p=="undefined"){o=l}else{m[p]=m[p]||[];o=m[p]}o.push(n)},consume:function(o){var n;if(typeof o=="undefined"){n=l;l=[]}else{n=m[o]||[];m[o]=[]}return n}}})();function d(m,n,o){if(d.delta>=0){d.delta=-1}var p,l;if(m){p=l=e.ue;if(n&&n!=p.id){l=p.sc[n];if(!l){l={};o?(p.sc[n]=l):l}}p=o?(l[m]=o):l[m]}return p}function c(m,q,s,p){if(c.delta>=0){p=p||k.t0+c.delta;c.delta=-1}var r=p||(new Date()).getTime();var l=!q&&typeof s!="undefined";if(l){return}if(m){var n=q?d("t",q)||d("t",q,{}):e.ue.t;n[m]=r;for(var o in s){d(o,q,s[o])}}return r}function i(o,m,n,l,q){var p="on"+n;var r=m[p];if(typeof(r)=="function"){if(o){e.ue.h[o]=r}}else{r=function(){}}m[p]=q?function(s){l(s);r(s)}:function(s){r(s);l(s)};m[p].isUeh=1}function b(r,m,s){var p;if(b.delta>=0){p=k.t0+b.delta;b.delta=-1}function w(T,R){var P=[T],N=0,Q={};if(R){P.push("m=1");Q[R]=1}else{Q=e.ue.sc}var I;for(var J in Q){var L=d("wb",J),O=d("t",J)||{},M=d("t0",J)||e.ue.t0;if(R||L==2){var S=L?N++:"";P.push("sc"+S+"="+J);for(var K in O){if(K.length<=3&&O[K]){P.push(K+S+"="+(O[K]-M))}}P.push("t"+S+"="+O[r]);if(d("ctb",J)||d("wb",J)){I=1}}}if(!o&&I){P.push("ctb=1")}return P.join("&")}function z(M,J,L,I){if(M==""){return}var K=new Image();if(e.ue.b){K.onload=function(){if(e.ue.b==""){return}var O=e.ue.b;e.ue.b="";z(O,J,L,1)}}var N=!e.ue.log||(!I&&!L);N=N&&e.ue_uselegacy;if(N){e.ue.iel.push(K);K.src=M}if(e.ue.log){e.ue.log(M,"uedata",{n:1});e.ue.ielf.push(M)}if(e.ue_err&&!e.ue_err.ts){e.ue_err.startTimer()}}function G(J){if(!k.collected){var K=J.timing;if(K){e.ue.t.na_=K.navigationStart;e.ue.t.ul_=K.unloadEventStart;e.ue.t._ul=K.unloadEventEnd;e.ue.t.rd_=K.redirectStart;e.ue.t._rd=K.redirectEnd;e.ue.t.fe_=K.fetchStart;e.ue.t.lk_=K.domainLookupStart;e.ue.t._lk=K.domainLookupEnd;e.ue.t.co_=K.connectStart;e.ue.t._co=K.connectEnd;e.ue.t.sc_=K.secureConnectionStart;e.ue.t.rq_=K.requestStart;e.ue.t.rs_=K.responseStart;e.ue.t._rs=K.responseEnd;e.ue.t.dl_=K.domLoading;e.ue.t.di_=K.domInteractive;e.ue.t.de_=K.domContentLoadedEventStart;e.ue.t._de=K.domContentLoadedEventEnd;e.ue.t._dc=K.domComplete;e.ue.t.ld_=K.loadEventStart;e.ue.t._ld=K.loadEventEnd}var I=J.navigation;if(I){e.ue.t.ty=I.type+e.ue.t0;e.ue.t.rc=I.redirectCount+e.ue.t0;if(e.ue.tag){e.ue.tag(I.redirectCount?"redirect":"nonredirect",k.main_scope)}}e.ue.collected=1}}var H=!m&&typeof s!="undefined";if(H){return}for(var x in s){d(x,m,s[x])}c("pc",m,s);var F=d("id",m)||e.ue.id;var u=!m||(m==F);var q=e.ue.url+"?"+r+"&v="+e.ue.v+"&id="+F;var o=d("ctb",m)||d("wb",m);if(o){q+="&ctb="+o}if(e.ueinit>1){q+="&ic="+e.ueinit}var D=j.performance||j.webkitPerformance;var C=e.ue.bfini;var t=D&&D.navigation&&D.navigation.type==2;if(C&&C>1){q+="&bft="+(C-1);q+="&bfform=1"}else{if(t){q+="&bft=1"}}if(t){q+="&bfnt=1"}if(e.ue._fi&&r=="at"&&(!m||m==F)){q+=e.ue._fi()}var l;if((r=="ld"||r=="ul")&&(!m||m==F)){if(r=="ld"){if(j.onbeforeunload&&j.onbeforeunload.isUeh){j.onbeforeunload=null}if(document.ue_backdetect&&document.ue_backdetect.ue_back){document.ue_backdetect.ue_back.value++}if(e._uess){l=e._uess()}}if(D&&D.timing){d("ctb",F,"1");e.ue.t.tc=D.timing.navigationStart}if(D){G(D)}if(e.ue_hob&&e.ue_hoe){e.ue.t.hob=e.ue_hob;e.ue.t.hoe=e.ue_hoe}if(e.ue.ifr){q+="&ifr=1"}}c(r,m,s,p);var B=(r=="ld"&&m&&d("wb",m));if(B){d("wb",m,2)}var E=1;for(var v in e.ue.sc){if(d("wb",v)==1){E=0;break}}if(B){q=w(q,null)}else{if(E){var A=w(q,null);if(A!=q){e.ue.b=A}}if(l){q+=l}q=w(q,m||e.ue.id)}if(e.ue.b||B){for(var v in e.ue.sc){if(d("wb",v)==2){delete e.ue.sc[v]}}}var n=0;if(!B){e.ue.s=0;if(e.ue_err&&e.ue_err.ec>0){q+="&ec="+e.ue_err.ec}n=d("ctb",m);d("t",m,{})}if(q){var y=[g.consume().join("|"),g.consume(m).join("|"),(u?g.consume(k.main_scope).join("|"):"")];if(y){q+="&csmtags="+y.join("|")}}if(q&&e.ue_pageviz&&e.ue.viz.length>0){q+="&viz="+e.ue.viz.join("|");e.ue.viz=[]}e.ue.a=q;z(q,r,n,B)}function h(){var n=e.ue.r;function l(q){return function(){if(!n[q]){n[q]=1;b(q)}}}e.onLd=l("ld");e.onLdEnd=l("ld");var m={beforeunload:l("ul"),stop:function(){b("os")}};for(var o in m){i(0,window,o,m[o])}if(e.ue_pageviz){ue_viz&&ue_viz()}e.ue._uep=function(){new Image().src=(e.ue_md?e.ue_md:"http://uedata.amazon.com/uedata/?tp=")+(+new Date)};if(e.ue_pr&&(e.ue_pr==2||e.ue_pr==4)){e.ue._uep()}}function f(n,l){var m;if(f.delta>=0){m=k.t0+f.delta;f.delta=-1}if(!n){return}e.ue_cel&&e.ue_cel.reset();e.ue.t0=m||+new Date();e.ue.rid=n;e.ue.id=n;e.ue.fc_idx={};e.ue.viz=[]}function a(){e.ues=d;e.uet=c;e.uex=b;e.ue.reset=f}k.implementations.ues=function(m,l){d.delta=m;d.apply(this,l)};k.implementations.uet=function(m,l){c.delta=m;c.apply(this,l)};k.implementations.uex=function(m,l){b.delta=m;b.apply(this,l)};k.implementations.tag=function(m,l){k.tag.delta=m;k.tag.apply(this,l)};k.implementations.rst=function(m,l){f.delta=m;f.apply(this,l)};k.tag=g.tag;k.register("latency",a);h()})(ue_csm,window);(function(g){var k={ec:0,ecf:0,pec:0,ts:0,erl:[],ter:[],mxe:50,startTimer:function(){k.ts++;setInterval(function(){if(g.ue&&(k.pec<k.ec)){g.uex("at")}k.pec=k.ec},10000)}};var d=g.ue_jserr_ns||"jserr",j="v1",m="FATAL",e=20,o=256,p=/\(?([^\s]*):(\d+):\d+\)?/,f=/.*@(.*):(\d*)/;function n(q){if(q){return q.replace(/^\s+|\s+$/g,"")}}function h(r){if(!r||!r.s){return}var q,t=r.s.length>0?r.s[0]:"",s=r.s.length>1?r.s[1]:"";if(t){q=t.match(f)}if((!q||q.length!=3)&&s){q=s.match(p)}if(q&&q.length==3){r.f=q[1];r.l=q[2]}}function c(t,A){if(!t){return{}}if(t.m&&t.m.message){t=t.m}var u={m:(A.m||A.message||"")+((t.m&&t.m.message)||t.m||t.message||"Unknown error"),f:(t.f||t.sourceURL||t.fileName||t.filename||(t.m&&t.m.target&&t.m.target.src)),l:(t.l||t.line||t.lineno||t.lineNumber),c:t.c?""+t.c:t.c,s:[],name:t.name,type:t.type,csm:j+" "+(t.fromOnError?"onerror":"ueLogError")},y,r,s,x,v=0,w=0,q,z;y=t.stack||(t.err?t.err.stack:"");u.pageURL=A.pageURL||(""+(window.location?window.location.href:""))||"missing";u.logLevel=A.logLevel||m;z=A.attribution;if(z){u.attribution=""+z}if(y&&y.split){u.csm+=" stack";r=y.split("\n");while(v<y.length&&u.s.length<e){s=r[v++];if(s){u.s.push(n(s))}}}else{u.csm+=" callee";x=b(t.args||arguments,"callee");v=0;w=0;while(x&&v<e){q=o;if(!x.skipTrace){s=x.toString();if(s&&s.substr){q=(w===0?4*o:q);q=(w==1?2*o:q);u.s.push(s.substr(0,q));w++}}x=b(x,"caller");v++}}if(!u.f&&u.s.length>0){h(u)}return u}function b(s,r){try{return s[r]}catch(q){return}}function l(q,r,s){if(!q){return}g.ue.log(c(q,r),d,{d:s})}function i(r,s){if((!r)||(g.ue_err.ec>g.ue_err.mxe)){return}g.ue_err.ec++;g.ue_err.ter.push(r);s=s||{};var q=r.logLevel||s.logLevel;s.logLevel=q;s.attribution=r.attribution||s.attribution;if(!q||(q==m)){k.ecf++}if(i.delta>=0){l(r,s,i.delta);i.delta=-1}else{l(r,s)}}l.skipTrace=1;c.skipTrace=1;i.skipTrace=1;function a(){g.ueLogError=i}ue.implementations.err=function(r,q){i.delta=r;i.apply(this,q)};ue.register("jserrors",a);g.ue_err=k})(ue_csm);(function(s,J){var h;h={};(function(){function X(ad){return ad<10?"0"+ad:ad}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(ad){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+X(this.getUTCMonth()+1)+"-"+X(this.getUTCDate())+"T"+X(this.getUTCHours())+":"+X(this.getUTCMinutes())+":"+X(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(ad){return this.valueOf()}}var w=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Z=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,aa,i,ac={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},ab;function e(ad){Z.lastIndex=0;return Z.test(ad)?'"'+ad.replace(Z,function(ae){var af=ac[ae];return typeof af==="string"?af:"\\u"+("0000"+ae.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+ad+'"'}function Y(ak,ah){var af,ae,al,ad,ai=aa,ag,aj=ah[ak];if(aj&&typeof aj==="object"&&typeof aj.toJSON==="function"){aj=aj.toJSON(ak)}if(typeof ab==="function"){aj=ab.call(ah,ak,aj)}switch(typeof aj){case"string":return e(aj);case"number":return isFinite(aj)?String(aj):"null";case"boolean":case"null":return String(aj);case"object":if(!aj){return"null"}aa+=i;ag=[];if(Object.prototype.toString.apply(aj)==="[object Array]"){ad=aj.length;for(af=0;af<ad;af+=1){ag[af]=Y(af,aj)||"null"}al=ag.length===0?"[]":aa?"[\n"+aa+ag.join(",\n"+aa)+"\n"+ai+"]":"["+ag.join(",")+"]";aa=ai;return al}if(ab&&typeof ab==="object"){ad=ab.length;for(af=0;af<ad;af+=1){if(typeof ab[af]==="string"){ae=ab[af];al=Y(ae,aj);if(al){ag.push(e(ae)+(aa?": ":":")+al)}}}}else{for(ae in aj){if(Object.prototype.hasOwnProperty.call(aj,ae)){al=Y(ae,aj);if(al){ag.push(e(ae)+(aa?": ":":")+al)}}}}al=ag.length===0?"{}":aa?"{\n"+aa+ag.join(",\n"+aa)+"\n"+ai+"}":"{"+ag.join(",")+"}";aa=ai;return al}}if(typeof h.stringify!=="function"){h.stringify=function(ag,ae,af){var ad;aa="";i="";if(typeof af==="number"){for(ad=0;ad<af;ad+=1){i+=" "}}else{if(typeof af==="string"){i=af}}ab=ae;if(ae&&typeof ae!=="function"&&(typeof ae!=="object"||typeof ae.length!=="number")){throw new Error("JSON.stringify")}return Y("",{"":ag})}}}());var K=s.ue||{},u=s.ue_log_idx?"2":"1",d="//"+K.furl+"/1/batch/"+u+"/OP/",H="/",T="$",G="&",g="=",f=",",L="_",a=":",R="%",b=2000,l=60000,x=5,A=1000,C,m,M=0,v=0,y={},j=function(e){return(""+e).length},O=(J.JSON&&J.JSON.stringify)||(h&&h.stringify),z=function(e){return(e&&e.r)||K.rid},P=function(e){return(e&&e.s)||K.sid},p=function(e){return(e&&e.m)||K.mid},S=function(e){return(e&&e.sn)||K.sn||J.ue_sn},r=function(e){return(e&&e.mkt)||K.mkt||J.ue_mkt},k=function(X,w,i){var e;if(i&&i.d){e=i.d}else{if(k.delta>0){e=k.delta;k.delta=-1}else{e=K.d()}}q(X,w,i,e)},q=function(ar,ak,X,ap,an){if(an){X||(X={});X.r||(X.r=an)}var ad=z(X)+":"+ak;y[ad]=(y[ad]||0)+1;if(y[ad]>A){var ai="ns '"+ak+"' reached the max no of calls ("+A+") - aborting log of "+ar;if(y[ad]==(A+1)){k({m:ai,f:"forester-client.js"},"jserr",X)}return}var e=p(X)+a+P(X)+a+z(X),Z=0,aa,ac=""+ap,ab=ar,aq,ah,al,i,Y="s",ag=typeof ar,w=X&&X.n||false,af,am,ao,ae=S(X),aj=r(X);if(ae){e+=a+ae}if(aj){e+=a+"mkt="+aj}if(ag=="undefined"){ab="";Y="u"}else{if(ar==null){ab="";Y=null}else{if(ag=="boolean"){ab=ar?"1":"0";Y="b"}else{if(ag=="number"&&!isNaN(ar)&&isFinite(ar)){ab=""+ar;Y="n"}else{if(ag=="object"){if(O){ab=O(ar);Y="j"}else{ab=""+ar}}}}}}ab=J.encodeURIComponent(ab);ao=b-j(e)-j(ak)-j(ac)-2;if(Y!=null){ao-=(j(Y)+2)}while(ab!=""){Z++;af=B(e,ak,ab,ac,Y);am=b-C;if(af<=am){aq=ab;ah="";am-=af;C+=af}else{if(j(ab)<=ao){E();continue}else{al=am-(af-j(ab));if(x<=al){al-=ab.charAt(al-1)==R?1:ab.charAt(al-2)==R?2:0;aq=ab.substr(0,al);ah=ab.substr(al);am=0;C=b;aa||(aa=1+Math.ceil(j(ah)/ao))}else{if(b-(af-j(ab))<x){return}E();continue}}}m[e]||(m[e]=[]);if(s.ue_log_idx){K.ue_idx=K.ue_idx||{};K.ue_idx[ak]=K.ue_idx[ak]||0;i=K.ue_idx[ak]+a+(Y!=null?Y+a+aq+a+ac:ac);K.ue_idx[ak]+=1}else{i=Y!=null?Y+a+aq+a+ac:ac}if(aa){i+=a+Z+L+aa}if(!m[e][ak]){m[e][ak]=i}else{m[e][ak]+=f+i}if(am==0||w){E()}ab=ah}M++},B=function(Z,w,X,Y,i){var e=j(Y);if(i!=null){e+=j(i)+j(X)+2}if(!m[Z]){e+=j(Z)+j(w)+2;if(m.length>0){e++}}else{if(!m[Z][w]){e+=j(w)+1;if(m[Z].length>0){e++}}else{e++}}return e},U=function(){C=0;m=[]},D=function(){if(C==0){return}var Y="",w,X,i,e;for(i in m){if(m.hasOwnProperty(i)){if(Y!=""){Y+=H}Y+=i+T;w=m[i];X=true;for(e in w){if(w.hasOwnProperty(e)){if(!X){Y+=G}X=false;Y+=e+g+w[e]}}}}K.w=Y;return d+Y},Q=function(e){var i=D();if(!i){return}new Image().src=i;v++;U()},o=function(i){var Y=D(),w;if(!Y){return}if(K.getWindowProtocol){Y=K.getWindowProtocol()+Y}if(i){new Image().src=Y}else{if(n&&t){F.push(Y);if(F.length==1){try{n.open("GET",Y,true);n.send()}catch(X){}}}else{new Image().src=Y}}v++;U()},E=Q,F=[],I=J.onbeforeunload,t=0,n;d="//"+K.furl+"/1/batch/"+u+"/OP/";E=o;if(window.XMLHttpRequest){n=new XMLHttpRequest();t=("withCredentials" in n)?1:0}else{if(window.ActiveXObject&&window.XDomainRequest){var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];for(var V=0;V<c.length;V++){try{n=new ActiveXObject(c[V]);t=1}catch(W){continue}break}}}if(n){n.onreadystatechange=function(){if(n.readyState==4){F.shift();if(F.length>0){var e=F[0];n.open("GET",e,true);n.send()}}}}J.onbeforeunload=function(i){if(I){I(i)}E(1)};K.intervals=[];K.intervals.push(J.setInterval(function(){E()},l));U();function N(){K.log=k;K.strigify=O}K.implementations.log=function(i,e){k.delta=i;k.apply(this,e)};K.register("forester",N);J.amznJQ&&J.amznJQ.declareAvailable("forester-client");s.ue=K})(ue_csm,window);